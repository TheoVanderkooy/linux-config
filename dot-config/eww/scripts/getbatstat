#!/bin/sh
# now=$(cat /sys/class/power_supply/BAT0/energy_now)
# full=$(cat /sys/class/power_supply/BAT0/energy_full)
# pct="$((100*$now/$full))"
pct=$(cat /sys/class/power_supply/BAT0/capacity)

stat=$(cat /sys/class/power_supply/BAT0/status)
case $stat in
    Full|Charging|"Not charging") echo "âš¡" ;;
    Discharging)
        if [ $pct -le 40 ]; then
            echo ğŸª«
        else
            echo ğŸ”‹
        fi ;;
    *) echo "??" ;;
esac

# TODO different icon depending on battery state?
# battery: ğŸª« ğŸ”‹ âš¡
# â• ğŸ”º ğŸ”¼ â¬†ï¸ â– ğŸ”» ğŸ”½ â¬‡ï¸